{
    "design": [
      {"id":"sd_Knshv7v60k4XaVWf",
       "type":"HttpIn",
       "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
       "viewType":"server",
       "nodeType":"start",
       "name":"",
       "path":"upload",
       "uploadpath":"",
       "summary":"",
       "description":"",
       "method":"post",
       "sequenceId":"",
       "consumes":"",
       "produces":"",
       "filetype":"memory",
       "acceptFileUpload":true,
       "httpOptions": {
         "upload": {
           "post": {
             "summary":"",
             "description":"",
             "consumes": [
             ],
             "produces": [
             ],
             "parameters": [
             ],
             "responses": {
             }
           }
         }
       },
       "uploadFileOptions": {
         "type":"memory",
         "fileOptions": [
           {"name":"file",
            "maxCount":5
           }
         ]
       },
       "editableListData": {
         "fileoptions": [
           {"key":"file",
            "value":"5",
            "rowId":"sd_s5plyrTBdejKGHHT",
            "valid":true
           }
         ],
         "responses": [
         ],
         "params": [
         ],
         "produces": [
         ],
         "consumes": [
         ]
       },
       "inputs":0,
       "outputs":1,
       "category":"HTTP",
       "x":100,
       "y":80,
       "wires": [
         ["sd_lvrLiPPMeFSfExf4"
         ]
       ],
       "__ssdTypeInputs__": {
         "uploadpath": {
           "type":"str",
           "value":"",
           "nullable":"true",
           "nullableValue":"",
           "constant":false
         }
       },
       "__n_excludedFromValidation__": {
       }
      },
      {
        "id":"sd_lvrLiPPMeFSfExf4",
        "type":"Script",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"flow",
        "name":"file length",
        "script":"bh.filelength = bh.input.files.file.length;\nbh.index = 0;",
        "functionName":"fileLength",
        "category":"Function",
        "x":260,
        "y":80,
        "wires": [
          ["sd_Tm2JXZy0hMRpmoG3"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_Tm2JXZy0hMRpmoG3",
        "type":"Switch",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"flow",
        "name":"",
        "property":"index",
        "propertyType":"bh",
        "propertyGv":"bh.index",
        "rules": [
          {"t":"lt",
           "v":"filelength",
           "vt":"bh",
           "gv":"bh.filelength"
          },
          {
            "t":"gte",
            "v":"filelength",
            "vt":"bh",
            "gv":"bh.filelength"
          }
        ],
        "checkall":"false",
        "repair":false,
        "outputs":2,
        "functionName":"sd_Tm2JXZy0hMRpmoG3",
        "category":"Function",
        "x":405,
        "y":80,
        "wires": [
          ["sd_g6hmQJEYU9nLCQAW"
          ],
          [
            "sd_v2ycNugfWfQLxmD7"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_g6hmQJEYU9nLCQAW",
        "type":"Script",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"flow",
        "name":"file path",
        "script":"bh.filepath = `./${bh.input.files.file[bh.index].filename}`\nbh.file = bh.input.files.file[bh.index].originalname",
        "functionName":"filePath",
        "category":"Function",
        "x":560,
        "y":80,
        "wires": [
          ["sd_0E7dxCSJMMlnU4Cp"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_EkurprIkU5gRTlfK",
        "type":"db-config",
        "viewType":"server",
        "nodeType":"flow",
        "dbOption": {
          "name":"mongodb_0",
          "type":"mongodb",
          "url":"mongodb://localhost:XXXX/ssd-mongo-node",
          "options":""
        },
        "disabledb":false,
        "selectedDB":"mongodb",
        "selectedOption":"mongodb",
        "dbCategory":"no-sql",
        "category":"config",
        "__ssdTypeInputs__": {
          "mssql_host": {
            "type":"str",
            "value":"localhost"
          },
          "mssql_port": {
            "type":"num",
            "value":1433
          },
          "mssql_username": {
            "type":"str",
            "value":"username"
          },
          "mssql_password": {
            "type":"str",
            "value":"password"
          },
          "mssql_database": {
            "type":"str",
            "value":"database"
          },
          "mssql_connectionTimeout": {
            "type":"num",
            "value":15000
          },
          "mssql_requestTimeout": {
            "type":"num",
            "value":15000
          },
          "mssql_synchronize": {
            "type":"bool",
            "value":false
          },
          "mssql_options.instanceName": {
            "type":"str",
            "value":""
          },
          "mssql_pool.max": {
            "type":"num",
            "value":10
          },
          "mssql_pool.min": {
            "type":"num",
            "value":1
          },
          "mssql_pool.maxWaitingClients": {
            "type":"num",
            "value":""
          },
          "mssql_pool.fifo": {
            "type":"bool",
            "value":true
          },
          "mssql_pool.priorityRange": {
            "type":"num",
            "value":1
          },
          "mssql_pool.evictionRunIntervalMillis": {
            "type":"num",
            "value":0
          },
          "mssql_pool.numTestsPerRun": {
            "type":"num",
            "value":3
          },
          "mssql_pool.softIdleTimeoutMillis": {
            "type":"num",
            "value":-1
          },
          "mssql_options.cancelTimeout": {
            "type":"num",
            "value":5000
          },
          "mssql_options.packetSize": {
            "type":"num",
            "value":4096
          },
          "mssql_options.useUTC": {
            "type":"bool",
            "value":true
          },
          "mssql_options.localAddress": {
            "type":"str",
            "value":""
          },
          "mssql_options.readOnlyIntent": {
            "type":"bool",
            "value":false
          },
          "mssql_options.encrypt": {
            "type":"bool",
            "value":true
          },
          "oracle_connectString": {
            "type":"str",
            "value":"oracle"
          },
          "oracle_host": {
            "type":"str",
            "value":"localhost"
          },
          "oracle_port": {
            "type":"num",
            "value":1521
          },
          "oracle_username": {
            "type":"str",
            "value":"username"
          },
          "oracle_password": {
            "type":"str",
            "value":"password"
          },
          "oracle_serviceName": {
            "type":"str",
            "value":"orcl"
          },
          "oracle_connectionTimeout": {
            "type":"num",
            "value":15000
          },
          "oracle_requestTimeout": {
            "type":"num",
            "value":15000
          },
          "oracle_synchronize": {
            "type":"bool",
            "value":false
          },
          "mongodb_url": {
            "type":"str",
            "value":"mongodb://localhost:XXXX/ssd-mongo-node"
          },
          "mongodb_options": {
            "type":"str",
            "value":""
          },
          "mysql_host": {
            "type":"str",
            "value":"localhost"
          },
          "mysql_port": {
            "type":"num",
            "value":3306
          },
          "mysql_username": {
            "type":"str",
            "value":"username"
          },
          "mysql_password": {
            "type":"str",
            "value":"password"
          },
          "mysql_database": {
            "type":"str",
            "value":"database"
          },
          "mysql_synchronize": {
            "type":"bool",
            "value":false
          },
          "mysql_extra.connectionLimit": {
            "type":"num",
            "value":10
          },
          "mysql_charset": {
            "type":"str",
            "value":"UTF8_GENERAL_CI"
          },
          "mysql_timezone": {
            "type":"str",
            "value":"local"
          },
          "mysql_connectTimout": {
            "type":"num",
            "value":10000
          },
          "mysql_acquireTimeout": {
            "type":"num",
            "value":10000
          },
          "mysql_insecureAuth": {
            "type":"bool",
            "value":false
          },
          "mysql_supportBigNumbers": {
            "type":"bool",
            "value":true
          },
          "mysql_bigNumberStrings": {
            "type":"bool",
            "value":false
          },
          "mysql_dateStrings": {
            "type":"bool",
            "value":false
          },
          "mysql_debug": {
            "type":"bool",
            "value":false
          },
          "mysql_trace": {
            "type":"bool",
            "value":true
          },
          "mysql_multipleStatements": {
            "type":"bool",
            "value":false
          },
          "mysql_flags": {
            "type":"str",
            "value":"flags"
          },
          "mariadb_host": {
            "type":"str",
            "value":"localhost"
          },
          "mariadb_port": {
            "type":"num",
            "value":3306
          },
          "mariadb_username": {
            "type":"str",
            "value":"username"
          },
          "mariadb_synchronize": {
            "type":"bool",
            "value":false
          },
          "mariadb_password": {
            "type":"str",
            "value":"password"
          },
          "mariadb_database": {
            "type":"str",
            "value":"database"
          },
          "mariadb_charset": {
            "type":"str",
            "value":"UTF8_GENERAL_CI"
          },
          "mariadb_timezone": {
            "type":"str",
            "value":"local"
          },
          "mariadb_extra.connectionLimit": {
            "type":"num",
            "value":10
          },
          "mariadb_connectTimout": {
            "type":"num",
            "value":10000
          },
          "mariadb_acquireTimeout": {
            "type":"num",
            "value":10000
          },
          "mariadb_insecureAuth": {
            "type":"bool",
            "value":false
          },
          "mariadb_supportBigNumbers": {
            "type":"bool",
            "value":true
          },
          "mariadb_bigNumberStrings": {
            "type":"bool",
            "value":false
          },
          "mariadb_dateStrings": {
            "type":"bool",
            "value":false
          },
          "mariadb_debug": {
            "type":"bool",
            "value":false
          },
          "mariadb_trace": {
            "type":"bool",
            "value":true
          },
          "mariadb_multipleStatements": {
            "type":"bool",
            "value":false
          },
          "mariadb_flags": {
            "type":"str",
            "value":"flags"
          },
          "postgres_host": {
            "type":"str",
            "value":"localhost"
          },
          "postgres_port": {
            "type":"num",
            "value":5432
          },
          "postgres_username": {
            "type":"str",
            "value":"username"
          },
          "postgres_password": {
            "type":"str",
            "value":"password"
          },
          "postgres_database": {
            "type":"str",
            "value":"database"
          },
          "postgres_schema": {
            "type":"str",
            "value":"public"
          },
          "postgres_uuidExtension": {
            "type":"str",
            "value":""
          },
          "postgres_synchronize": {
            "type":"bool",
            "value":false
          }
        },
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_0E7dxCSJMMlnU4Cp",
        "type":"Mongodb",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"server",
        "nodeType":"flow",
        "name":"",
        "databaseConfig":"sd_EkurprIkU5gRTlfK",
        "collection":"\"fileupload\"",
        "options":"",
        "resultMapping":"bh.res",
        "operation":"uploadFile",
        "argumentArray": [
          "filePath",
          "fileName"
        ],
        "aggregate":"",
        "operations":"",
        "query":"bh",
        "fieldOrSpec":"",
        "filter":"",
        "key":"",
        "docId":"",
        "indexName":"",
        "replacement":"",
        "update":"",
        "xAxis":"",
        "yAxis":"",
        "indexes":"",
        "docs":"",
        "document":"",
        "newName":"",
        "doc":"",
        "filePath":"bh.filepath",
        "fileName":"bh.file",
        "pipeline":"",
        "functionName":"sd_0E7dxCSJMMlnU4Cp",
        "category":"Storage",
        "x":720,
        "y":80,
        "wires": [
          ["sd_GxuHNqTroDWCinf5"
          ]
        ],
        "__ssdTypeInputs__": {
          "collection": {
            "type":"str",
            "value":"fileupload",
            "constant":false
          },
          "options": {
            "type":"bh",
            "value":"",
            "nullable":"true",
            "constant":false
          },
          "resultMapping": {
            "type":"bh",
            "value":"res",
            "constant":false
          },
          "query": {
            "type":"bh",
            "value":"",
            "constant":false
          },
          "filePath": {
            "type":"bh",
            "value":"filepath",
            "constant":false
          },
          "fileName": {
            "type":"bh",
            "value":"file",
            "constant":false
          }
        },
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_GxuHNqTroDWCinf5",
        "type":"Script",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"flow",
        "name":"Index",
        "script":"bh.index++;",
        "functionName":"index",
        "category":"Function",
        "x":760,
        "y":240,
        "wires": [
          ["sd_Tm2JXZy0hMRpmoG3"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_v2ycNugfWfQLxmD7",
        "type":"Script",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"flow",
        "name":"response",
        "script":"bh.response = {\"message\": \"success\"};\nbh.status = 200",
        "functionName":"response",
        "category":"Function",
        "x":125,
        "y":220,
        "wires": [
          ["sd_WNBCDNeShOHXGlcH"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_S6GvKoWyDaK6eGZF",
        "type":"Catch",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"start",
        "name":"",
        "selectedNodes":"all-nodes",
        "selectCatchType":"allnodes",
        "masternodeList":"",
        "ignoreList":"",
        "functionName":"sd_S6GvKoWyDaK6eGZF",
        "category":"General",
        "x":265,
        "y":340,
        "wires": [
          ["sd_7Wg9u5RD1EKC3BqW"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_7Wg9u5RD1EKC3BqW",
        "type":"Script",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"common",
        "nodeType":"flow",
        "name":"",
        "script":"bh.status = 500;\nbh.response = {error: \"failure\"}",
        "functionName":"sd_7Wg9u5RD1EKC3BqW",
        "category":"Function",
        "x":385,
        "y":340,
        "wires": [
          ["sd_WNBCDNeShOHXGlcH"
          ]
        ],
        "__n_excludedFromValidation__": {
        }
      },
      {
        "id":"sd_WNBCDNeShOHXGlcH",
        "type":"HttpOut",
        "z":"SSD_SERVICE_ID_sd_nfJzxi8Mm3K0BKSk",
        "viewType":"server",
        "nodeType":"flow",
        "name":"",
        "headers": {
        },
        "responseBody": {
          "type":"bh",
          "value":"response",
          "ssd_typedInputField":true
        },
        "httpcode": {
          "type":"bh",
          "value":"status",
          "ssd_typedInputField":true
        },
        "responseType":"obj",
        "responseMapping": {
          "status": {
            "type":"bh",
            "value":"status",
            "ssd_typedInputField":true
          },
          "obj": {
            "type":"bh",
            "value":"response",
            "ssd_typedInputField":true
          },
          "send": {
            "type":"bh",
            "value":"response",
            "ssd_typedInputField":true
          }
        },
        "inputs":1,
        "outputs":0,
        "editableListData": {
          "headers": [
          ]
        },
        "cookiesList": {
        },
        "switchStates": {
          "headers":"Map",
          "cookies":"Map"
        },
        "functionName":"sd_WNBCDNeShOHXGlcH",
        "category":"HTTP",
        "x":305,
        "y":220,
        "wires": [
        ],
        "__n_excludedFromValidation__": {
        }
      }
    ],
    "dependencies": [
      {"name":"neutrinos-mongodb-plugin",
       "description":"MongoDB",
       "displayName":"MongoDB",
       "default":true,
       "dependencies": [
         {"name":"ndefault-mongodb",
          "packageType":"studio-nodes",
          "displayName":"MongoDB",
          "nodes": {
            "server": [
              {"name":"Mongodb",
               "dependencies": [
                 {"name":"mongodb",
                  "version":"3.6.12"
                 },
                 {
                   "name":"bson",
                   "version":"4.5.1"
                 }
               ]
              }
            ]
          }
         }
       ],
       "missing":false
      }
    ],
    "serviceDesignerType":"server",
    "exportedDesignApp":"demapp2"
  }